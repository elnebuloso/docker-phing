<?xml version="1.0" encoding="UTF-8"?>


<project default="init:laravel:lumen5">


    <property name="initLaravelLumen5Description" value="init laravel-lumen5 application" override="true"/>


    <target name="init:laravel:lumen5:help">
        <echo message="${initLaravelLumen5Description}"/>
    </target>


    <target name="init:laravel:lumen5" depends="init:laravel:lumen5:before, init:laravel:lumen5:main, init:laravel:lumen5:after">
        <echo message="successful"/>
    </target>


    <target name="init:laravel:lumen5:before" hidden="true">
        <echo message="no actions defined"/>
    </target>


    <target name="init:laravel:lumen5:after" hidden="true">
        <echo message="no actions defined"/>
    </target>


    <target name="init:laravel:lumen5:main">
        <fail message="${projectDirMain} exists for creating laravel-lumen5 application">
            <condition>
                <available file="${projectDirMain}" type="dir"/>
            </condition>
        </fail>

        <exec command="composer create-project --prefer-dist --no-dev --remove-vcs laravel/lumen:^5 ${projectDirMain}" passthru="true" checkreturn="true" level="info"/>
        <delete dir="${projectDirMain}/.git" quiet="true"/>

        <copy todir="${projectRoot}" overwrite="true">
            <fileset dir="${phingCommonsRoot}/resources/init/laravel-lumen5/0">
                <include name="**"/>
            </fileset>
        </copy>
    </target>


</project>
