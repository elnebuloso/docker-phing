<?xml version="1.0" encoding="UTF-8"?>


<project default="composer:require">


    <target name="composer:require:init" depends="commons:init">
        <property name="composerRequireDescription" value="composer require a dependency"/>
    </target>


    <target name="composer:require:help" depends="composer:require:init">
        <echo message="${composerRequireDescription}"/>
    </target>


    <target name="composer:require" depends="composer:require:init, composer:require:before, composer:require:main, composer:require:after">
        <echo message="successful"/>
    </target>


    <target name="composer:require:before" hidden="true">
        <echo message="no actions defined"/>
    </target>


    <target name="composer:require:after" hidden="true">
        <echo message="no actions defined"/>
    </target>


    <target name="composer:require:main">
        <if>
            <not>
                <isset property="package"/>
            </not>
            <then>
                <input propertyname="package" defaultValue="">package (vendor/package)</input>
            </then>
        </if>

        <if>
            <not>
                <isset property="options"/>
            </not>
            <then>
                <input propertyname="options" defaultValue="">options</input>
            </then>
        </if>

        <if>
            <not>
                <equals arg1="${package}" arg2=""/>
            </not>
            <then>
                <exec command="composer require ${package} ${options}" passthru="true" checkreturn="true" level="info" dir="${projectDirMainComposer}"/>
            </then>
        </if>
    </target>


</project>